<!DOCTYPE html>
<html lang="fr" dir="ltr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ŸÖÿ≥ÿßÿπÿØ ÿ≤ŸÅÿßŸÅ ÿ∞ŸÉŸä</title>
  <link href="https://fonts.googleapis.com/css?family=Great+Vibes|Roboto:400,500&display=swap" rel="stylesheet">
  <style>
    :root {
      --primary: #5a3e36;       /* Main brown color for buttons and accents */
      --secondary: #7a5a52;     /* Slightly lighter brown for hover effect */
      --bg: #F5F5DC;            /* Beige background */
      --text: #5D4037;          /* Dark brown for text */
      --header-bg: linear-gradient(135deg, var(--primary), var(--secondary));
    }
    * {
      box-sizing: border-box;
    }
    body {
      font-family: 'Roboto', sans-serif;
      margin: 0;
      background: var(--bg);
      color: var(--text);
      overflow: hidden;
    }
    /* Full-Screen Chat Container */
    .chat-box {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100vh;
      background: rgba(245, 245, 220, 0.95);
      backdrop-filter: blur(8px);
      -webkit-backdrop-filter: blur(8px);
      display: flex;
      flex-direction: column;
      overflow: hidden;
    }
    /* Header */
    .chat-header {
      padding: 20px;
      background: var(--header-bg);
      color: #fff;
      display: flex;
      justify-content: space-between;
      align-items: center;
      box-shadow: 0 2px 4px rgba(0,0,0,0.2);
    }
    .chat-header span {
      font-family: 'Great Vibes', cursive;
      font-size: 2em;
    }
    .header-buttons button {
      background: rgba(255, 255, 255, 0.3);
      border: none;
      color: #fff;
      padding: 8px 12px;
      border-radius: 8px;
      cursor: pointer;
      transition: background 0.3s;
    }
    .header-buttons button:hover {
      background: rgba(255, 255, 255, 0.5);
    }
    /* Chat Body */
    .chat-body {
      flex: 1;
      padding: 20px;
      overflow-y: auto;
      background: transparent;
      display: flex;
      flex-direction: column;
      gap: 10px;
    }
    .message {
      padding: 12px 15px;
      border-radius: 20px;
      max-width: 80%;
      font-size: 1em;
      line-height: 1.4;
      word-wrap: break-word;
      animation: fadeInScale 0.3s ease;
    }
    @keyframes fadeInScale {
      from { transform: scale(0.95); opacity: 0; }
      to { transform: scale(1); opacity: 1; }
    }
    .bot-message {
      background: #fff;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
      color: var(--text);
    }
    .user-message {
      background: var(--primary);
      color: #fff;
      align-self: flex-end;
    }
    /* Option Buttons */
    .option-btn {
      display: block;
      width: 100%;
      padding: 12px;
      border: none;
      border-radius: 20px;
      background: var(--primary);
      color: #fff;
      font-size: 1em;
      font-weight: 500;
      cursor: pointer;
      transition: background 0.2s, transform 0.2s;
      margin-top: 5px;
    }
    .option-btn:hover {
      background: var(--secondary);
    }
    .option-btn:active {
      transform: scale(0.98);
    }
    /* Container for Initial Options */
    #initialOptions {
      display: flex;
      flex-direction: column;
      gap: 10px;
    }
    /* Typing Indicator */
    .typing-indicator {
      display: flex;
      gap: 4px;
      align-items: center;
      margin: 10px 0;
    }
    .typing-dot {
      width: 8px;
      height: 8px;
      background: #ccc;
      border-radius: 50%;
      animation: bounce 1s infinite;
    }
    @keyframes bounce {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-5px); }
    }
    /* Input Field */
    .email-input {
      width: 100%;
      padding: 12px;
      border: 1px solid #ccc;
      border-radius: 20px;
      font-size: 1em;
      margin-top: 10px;
    }
    .error-message {
      color: #ff4d4d;
      font-size: 0.9em;
      margin-top: 5px;
    }
  </style>
</head>
<body>

<div class="chat-box" id="chatBox">
  <div class="chat-header">
    <span id="chatHeaderText">LUMO</span>
    <div class="header-buttons">
      <button id="homeButton">Accueil</button>
    </div>
  </div>
  <div class="chat-body" id="chatBody">
    <!-- Dynamic chat messages and options will be appended here -->
  </div>
</div>

<script>
  // Global variables
  let currentLanguage = null;
  let languagePromptDisplayed = false;
  let weddingPlan = {}; // Object to store wedding game choices

  // Language translations
  const translations = {
    ar: {
      welcome: "üéâ ŸÖÿ±ÿ≠ÿ®ÿß! ÿ£ŸÜÿß ŸáŸÜÿß ŸÑŸÖÿ≥ÿßÿπÿØÿ™ŸÉ ŸÅŸä ÿ™ÿÆÿ∑Ÿäÿ∑ ÿ≠ŸÅŸÑ ÿßŸÑÿ≤ŸÅÿßŸÅÿå ŸÖŸÜ ÿ£ŸäŸÜ ŸÜÿ®ÿØÿ£ÿü",
      header: "LUMO",
      home: "ÿßŸÑÿ±ÿ¶Ÿäÿ≥Ÿäÿ©",
      packages: "ÿπÿ±ÿ∂ ÿßŸÑÿ®ÿßŸÇÿßÿ™",
      designs: "ÿ™ÿµŸÖŸäŸÖ ÿßŸÑÿØÿπŸàÿßÿ™",
      booking: "ÿ≠ÿ¨ÿ≤ ŸÖŸàÿπÿØ",
      tips: "ŸÜÿµÿßÿ¶ÿ≠ ÿßŸÑÿ≤ŸÅÿßŸÅ",
      faq: "ÿ£ÿ≥ÿ¶ŸÑÿ© ÿ¥ÿßÿ¶ÿπÿ©",
      game: "ŸÑÿπÿ®ÿ© ÿ™ŸÜÿ∏ŸäŸÖ ÿßŸÑÿ≠ŸÅŸÑ",
      back: "ÿ±ÿ¨Ÿàÿπ",
      packagesMessage: "üéÅ ŸÑÿØŸäŸÜÿß ŸÖÿ¨ŸÖŸàÿπÿ© ŸÖŸÖŸäÿ≤ÿ© ŸÖŸÜ ÿßŸÑÿ®ÿßŸÇÿßÿ™!",
      designMessage: "üé® ŸÑÿØŸäŸÜÿß ÿßŸÑÿπÿØŸäÿØ ŸÖŸÜ ÿßŸÑÿ™ÿµÿßŸÖŸäŸÖ ÿßŸÑÿ±ÿßÿ¶ÿπÿ©!",
      bookingMessage: "üìÖ ŸÖÿ™Ÿâ ÿ™ÿ±ÿ∫ÿ® ŸÅŸä ŸÖŸÇÿßÿ®ŸÑÿ© ÿßŸÑÿßÿ≥ÿ™ÿ¥ÿßÿ±Ÿäÿü",
      tipsMessage: "üìù ÿ•ŸÑŸäŸÉ ÿ®ÿπÿ∂ ÿßŸÑŸÜÿµÿßÿ¶ÿ≠ ÿßŸÑŸÖŸÅŸäÿØÿ©!",
      faqMessage: "‚ùì ŸáŸÑ ŸÑÿØŸäŸÉ ÿ£ÿ≥ÿ¶ŸÑÿ©ÿü ÿ•ŸÑŸäŸÉ ÿ®ÿπÿ∂ ÿßŸÑÿ£ÿ≥ÿ¶ŸÑÿ© ÿßŸÑÿ¥ÿßÿ¶ÿπÿ©:",
      chooseLanguage: "ŸÖŸÜ ŸÅÿ∂ŸÑŸÉ ÿßÿÆÿ™ÿ± ŸÑÿ∫ÿ™ŸÉ:",
      languages: { ar: "ÿßŸÑÿπÿ±ÿ®Ÿäÿ©", en: "English", fr: "Fran√ßais" },
      invalidEmail: "‚ùå ÿßŸÑÿ±ÿ¨ÿßÿ° ÿ•ÿØÿÆÿßŸÑ ÿ®ÿ±ŸäÿØ ÿ•ŸÑŸÉÿ™ÿ±ŸàŸÜŸä ÿµÿßŸÑÿ≠."
    },
    en: {
      welcome: "üéâ Hello! I'm here to help you plan your wedding, where do we start?",
      header: "LUMO",
      home: "Home",
      packages: "View Packages",
      designs: "Design Invitations",
      booking: "Book an Appointment",
      tips: "Wedding Tips",
      faq: "FAQs",
      game: "Plan Your Wedding Game",
      back: "Back",
      packagesMessage: "üéÅ We have an amazing range of packages!",
      designMessage: "üé® We have many wonderful designs!",
      bookingMessage: "üìÖ When would you like to meet with the consultant?",
      tipsMessage: "üìù Here are some helpful tips!",
      faqMessage: "‚ùì Do you have any questions? Here are some FAQs:",
      chooseLanguage: "Please choose your language:",
      languages: { ar: "ÿßŸÑÿπÿ±ÿ®Ÿäÿ©", en: "English", fr: "Fran√ßais" },
      invalidEmail: "‚ùå Please enter a valid email."
    },
    fr: {
      welcome: "üéâ Bonjour! Je suis ici pour vous aider √† planifier votre mariage, par o√π commencer?",
      header: "LUMO",
      home: "Accueil",
      packages: "Voir les forfaits",
      designs: "Concevoir les invitations",
      booking: "Prendre rendez-vous",
      tips: "Conseils de mariage",
      faq: "FAQ",
      game: "Jeu d'organisation de mariage",
      back: "Retour",
      packagesMessage: "üéÅ Nous avons une gamme de forfaits incroyable!",
      designMessage: "üé® Nous avons de nombreux designs magnifiques!",
      bookingMessage: "üìÖ Quand souhaitez-vous rencontrer le consultant?",
      tipsMessage: "üìù Voici quelques conseils utiles!",
      faqMessage: "‚ùì Avez-vous des questions? Voici quelques FAQ:",
      chooseLanguage: "Veuillez choisir votre langue:",
      languages: { ar: "ÿßŸÑÿπÿ±ÿ®Ÿäÿ©", en: "English", fr: "Fran√ßais" },
      invalidEmail: "‚ùå Veuillez saisir un email valide."
    }
  };

  /* Helper: Create and return a button element with provided text and click callback */
  function createOptionButton(text, callback) {
    const btn = document.createElement("button");
    btn.className = "option-btn";
    btn.textContent = text;
    btn.addEventListener("click", () => {
      btn.style.transform = "scale(0.98)";
      setTimeout(() => { btn.style.transform = ""; }, 150);
      callback();
    });
    return btn;
  }

  /* Helper: Add a message to the chat body */
  function addMessage(text, isUser = false, isKey = false) {
    const chatBody = document.getElementById('chatBody');
    const msgDiv = document.createElement('div');
    msgDiv.className = `message ${isUser ? 'user-message' : 'bot-message'}`;
    if (isKey && !currentLanguage) {
      msgDiv.textContent = translations["fr"].chooseLanguage;
      msgDiv.classList.add("language-prompt");
    } else {
      msgDiv.textContent = text;
    }
    chatBody.appendChild(msgDiv);
    chatBody.scrollTop = chatBody.scrollHeight;
  }

  /* Helper: Remove all option buttons from chat body */
  function removeOptionButtons() {
    document.querySelectorAll('#chatBody .option-btn').forEach(btn => btn.remove());
  }

  /* Language selection UI */
  function showLanguageSelection() {
    const chatBody = document.getElementById("chatBody");
    chatBody.innerHTML = "";
    if (!languagePromptDisplayed) {
      addMessage("", false, true);
      languagePromptDisplayed = true;
    }
    const langOptions = translations["fr"].languages;
    Object.keys(langOptions).forEach(lang => {
      const btn = createOptionButton(langOptions[lang], () => selectLanguage(lang));
      chatBody.appendChild(btn);
    });
  }

  /* Set the selected language and update header texts */
  function selectLanguage(lang) {
    currentLanguage = lang;
    document.documentElement.lang = lang;
    document.documentElement.dir = (lang === 'ar') ? 'rtl' : 'ltr';
    document.getElementById('chatHeaderText').textContent = translations[lang].header;
    document.getElementById('homeButton').textContent = translations[lang].home;
    // Remove any language prompt messages
    document.querySelectorAll('.language-prompt').forEach(el => el.remove());
    removeOptionButtons();
    addMessage(translations[lang].welcome);
    showInitialOptions();
  }

  /* Reset language selection */
  function goHome() {
    currentLanguage = null;
    languagePromptDisplayed = false;
    document.getElementById('chatHeaderText').textContent = translations["fr"].header;
    document.getElementById('homeButton').textContent = translations["fr"].home;
    document.getElementById("chatBody").innerHTML = "";
    showLanguageSelection();
  }

  /* Show initial options for the chatbot */
  function showInitialOptions() {
    const chatBody = document.getElementById('chatBody');
    const optionsDiv = document.createElement("div");
    optionsDiv.id = "initialOptions";
    optionsDiv.appendChild(createOptionButton(translations[currentLanguage].packages, showPackages));
    optionsDiv.appendChild(createOptionButton(translations[currentLanguage].designs, showDesigns));
    optionsDiv.appendChild(createOptionButton(translations[currentLanguage].booking, startBooking));
    optionsDiv.appendChild(createOptionButton(translations[currentLanguage].tips, showTips));
    optionsDiv.appendChild(createOptionButton(translations[currentLanguage].faq, askAboutWedding));
    optionsDiv.appendChild(createOptionButton(translations[currentLanguage].game, planWeddingGame));
    optionsDiv.appendChild(createOptionButton(translations[currentLanguage].back, goHome));
    chatBody.appendChild(optionsDiv);
  }

  /* Typing Indicator */
  function showTypingIndicator() {
    const typingDiv = document.createElement('div');
    typingDiv.className = 'typing-indicator';
    typingDiv.innerHTML = '<div class="typing-dot"></div><div class="typing-dot"></div><div class="typing-dot"></div>';
    document.getElementById('chatBody').appendChild(typingDiv);
  }
  function hideTypingIndicator() {
    const typingDiv = document.querySelector('.typing-indicator');
    if (typingDiv) typingDiv.remove();
  }

  /* Packages section */
  function showPackages() {
    showTypingIndicator();
    setTimeout(() => {
      hideTypingIndicator();
      addMessage(translations[currentLanguage].packagesMessage);
      const packages = {
        ar: [
          'üéÄ ÿßŸÑÿ®ÿßŸÇÿ© ÿßŸÑÿ£ÿ≥ÿßÿ≥Ÿäÿ© - 5000 ÿØ.ÿ¨',
          'üéÄ ÿßŸÑÿ®ÿßŸÇÿ© ÿßŸÑŸÅÿßÿÆÿ±ÿ© - 8000 ÿØ.ÿ¨',
          'üéÄ ÿßŸÑÿ®ÿßŸÇÿ© ÿßŸÑŸÖŸÑŸÉŸäÿ© - 12000 ÿØ.ÿ¨'
        ],
        en: [
          'üéÄ Basic Package - 5000 DZD',
          'üéÄ Premium Package - 8000 DZD',
          'üéÄ Royal Package - 12000 DZD'
        ],
        fr: [
          'üéÄ Forfait de base - 5000 DZD',
          'üéÄ Forfait premium - 8000 DZD',
          'üéÄ Forfait royal - 12000 DZD'
        ]
      };
      packages[currentLanguage].forEach(pkg => {
        const btn = createOptionButton(pkg, () => selectPackage(pkg));
        document.getElementById('chatBody').appendChild(btn);
      });
    }, 1000);
  }
  function selectPackage(pkg) {
    addMessage(pkg.split(' - ')[0], true);
    const responses = {
      ar: [
        `üíå ŸÖŸÖÿ™ÿßÿ≤! ÿ≥ŸÜŸÇŸàŸÖ ÿ®ÿ•ÿ±ÿ≥ÿßŸÑ ÿ™ŸÅÿßÿµŸäŸÑ ${pkg} ŸÑÿ®ÿ±ŸäÿØŸÉ ÿßŸÑÿ•ŸÑŸÉÿ™ÿ±ŸàŸÜŸä.`,
        `üìß ÿ±ÿßÿ¶ÿπ! ÿßÿ≥ÿ™ÿπÿØ ŸÑÿßÿ≥ÿ™ŸÑÿßŸÖ ÿ™ŸÅÿßÿµŸäŸÑ ${pkg} ÿπŸÑŸâ ÿ®ÿ±ŸäÿØŸÉ ÿßŸÑÿ•ŸÑŸÉÿ™ÿ±ŸàŸÜŸä.`,
        `‚úÖ ÿ™ŸÖ ÿßÿÆÿ™Ÿäÿßÿ± ${pkg.split(' - ')[0]}! ÿ≥ÿ™ÿµŸÑŸÉ ÿßŸÑÿ™ŸÅÿßÿµŸäŸÑ ŸÇÿ±Ÿäÿ®ÿßŸã.`
      ],
      en: [
        `üíå Great! We'll send the details of ${pkg} to your email.`,
        `üìß Awesome! Get ready to receive details of ${pkg} in your email.`,
        `‚úÖ You selected ${pkg.split(' - ')[0]}! Details will follow soon.`
      ],
      fr: [
        `üíå Super! Nous enverrons les d√©tails de ${pkg} √† votre email.`,
        `üìß G√©nial! Pr√©parez-vous √† recevoir les d√©tails de ${pkg} par email.`,
        `‚úÖ Vous avez choisi ${pkg.split(' - ')[0]}! Les d√©tails suivront bient√¥t.`
      ]
    };
    addMessage(getRandomItem(responses[currentLanguage]));
    addMessage(
      currentLanguage === 'ar'
        ? 'üìß ÿßŸÑÿ±ÿ¨ÿßÿ° ÿ•ÿØÿÆÿßŸÑ ÿ®ÿ±ŸäÿØŸÉ ÿßŸÑÿ•ŸÑŸÉÿ™ÿ±ŸàŸÜŸä:'
        : currentLanguage === 'en'
        ? 'üìß Please enter your email:'
        : 'üìß Veuillez saisir votre email:'
    );
    const input = document.createElement('input');
    input.type = 'email';
    input.placeholder = 'example@email.com';
    input.className = 'email-input';
    input.addEventListener('keypress', (e) => {
      if (e.key === 'Enter') {
        if (!validateEmail(input.value)) {
          showError(translations[currentLanguage].invalidEmail);
        } else {
          clearError();
          confirmEmail(input.value);
          input.remove();
        }
      }
    });
    document.getElementById('chatBody').appendChild(input);
  }
  function validateEmail(email) {
    const regex = /\S+@\S+\.\S+/;
    return regex.test(email);
  }
  function showError(message) {
    clearError();
    const errorDiv = document.createElement('div');
    errorDiv.className = 'error-message';
    errorDiv.textContent = message;
    document.getElementById('chatBody').appendChild(errorDiv);
  }
  function clearError() {
    document.querySelectorAll('.error-message').forEach(el => el.remove());
  }
  function confirmEmail(email) {
    addMessage(email, true);
    const responses = {
      ar: [
        '‚úÖ ÿ™ŸÖ ÿßŸÑÿ•ÿ±ÿ≥ÿßŸÑ! ÿ≥ÿ™ÿ≥ÿ™ŸÑŸÖ ÿßŸÑÿ™ŸÅÿßÿµŸäŸÑ ÿÆŸÑÿßŸÑ ÿØŸÇÿßÿ¶ŸÇ.',
        'üì¨ ÿ®ÿ±ŸäÿØŸÉ ÿ™ŸÖ ÿ™ÿ£ŸÉŸäÿØŸá Ÿàÿ≥ŸäÿµŸÑŸÉ ŸÉŸÑ ÿ¨ÿØŸäÿØ ŸÇÿ±Ÿäÿ®ÿßŸã.'
      ],
      en: [
        '‚úÖ Sent! You will receive the details shortly.',
        'üì¨ Your email has been confirmed. Stay tuned for updates.'
      ],
      fr: [
        '‚úÖ Envoy√©! Vous recevrez les d√©tails sous peu.',
        'üì¨ Votre email a √©t√© confirm√©. Restez √† l‚Äô√©coute pour plus d‚Äôinformations.'
      ]
    };
    addMessage(getRandomItem(responses[currentLanguage]));
  }
  /* Designs section */
  function showDesigns() {
    showTypingIndicator();
    setTimeout(() => {
      hideTypingIndicator();
      addMessage(translations[currentLanguage].designMessage);
      const designs = {
        ar: ['üñºÔ∏è ÿ™ÿµŸÖŸäŸÖ ŸÉŸÑÿßÿ≥ŸäŸÉŸä', 'üñºÔ∏è ÿ™ÿµŸÖŸäŸÖ ÿπÿµÿ±Ÿä', 'üñºÔ∏è ÿ™ÿµŸÖŸäŸÖ ŸÖÿÆÿµÿµ'],
        en: ['üñºÔ∏è Classic Design', 'üñºÔ∏è Modern Design', 'üñºÔ∏è Custom Design'],
        fr: ['üñºÔ∏è Design classique', 'üñºÔ∏è Design moderne', 'üñºÔ∏è Design personnalis√©']
      };
      designs[currentLanguage].forEach(design => {
        const btn = createOptionButton(design, () => selectDesign(design));
        document.getElementById('chatBody').appendChild(btn);
      });
    }, 1000);
  }
  function selectDesign(design) {
    addMessage(design, true);
    const responses = {
      ar: [
        '‚ú® ÿ≥ŸÜŸÇŸàŸÖ ÿ®ÿ™ÿµŸÖŸäŸÖ ŸÜŸÖŸàÿ∞ÿ¨ ŸÖÿ®ÿØÿ¶Ÿä ÿÆŸÑÿßŸÑ 24 ÿ≥ÿßÿπÿ©!',
        'üöÄ ÿ™ÿµŸÖŸäŸÖŸÉ ÿßŸÑŸÖÿ®ÿØÿ¶Ÿä ŸÅŸä ÿßŸÑÿ∑ÿ±ŸäŸÇ ÿÆŸÑÿßŸÑ ŸäŸàŸÖŸäŸÜ!'
      ],
      en: [
        '‚ú® Your prototype will be ready within 24 hours!',
        'üöÄ Your design is on its way and will be ready in two days!'
      ],
      fr: [
        '‚ú® Votre prototype sera pr√™t sous 24 heures!',
        'üöÄ Votre design est en route et sera pr√™t en deux jours!'
      ]
    };
    addMessage(getRandomItem(responses[currentLanguage]));
  }
  /* Booking section */
  function startBooking() {
    showTypingIndicator();
    setTimeout(() => {
      hideTypingIndicator();
      addMessage(translations[currentLanguage].bookingMessage);
      const dates = {
        ar: ['ÿ∫ÿØŸãÿß', 'ÿ®ÿπÿØ ÿ∫ÿØ', 'ÿßŸÑÿ£ÿ≥ÿ®Ÿàÿπ ÿßŸÑŸÇÿßÿØŸÖ'],
        en: ['Tomorrow', 'The day after tomorrow', 'Next week'],
        fr: ['Demain', 'Apr√®s-demain', 'La semaine prochaine']
      };
      dates[currentLanguage].forEach(date => {
        const btn = createOptionButton(date, () => confirmDate(date));
        document.getElementById('chatBody').appendChild(btn);
      });
    }, 1000);
  }
  function confirmDate(date) {
    addMessage(date, true);
    const responses = {
      ar: [
        `üïí ÿ™ŸÖ ÿßŸÑÿ≠ÿ¨ÿ≤! ÿ≥ŸÜÿ™ŸàÿßÿµŸÑ ŸÖÿπŸÉ ŸÅŸä ${date} ÿßŸÑÿ≥ÿßÿπÿ© 4 ŸÖÿ≥ÿßÿ°Ÿã.`,
        `üìÜ ŸÖŸàÿπÿØŸÉ ŸÖÿπ ÿßŸÑÿßÿ≥ÿ™ÿ¥ÿßÿ±Ÿä ŸÅŸä ${date} ÿ™ŸÖ ÿ™ÿ£ŸÉŸäÿØŸá.`
      ],
      en: [
        `üïí Booked! We will contact you on ${date} at 4 PM.`,
        `üìÜ Your appointment with the consultant on ${date} is confirmed.`
      ],
      fr: [
        `üïí R√©serv√©! Nous vous contacterons ${date} √† 16h.`,
        `üìÜ Votre rendez-vous avec le consultant ${date} est confirm√©.`
      ]
    };
    addMessage(getRandomItem(responses[currentLanguage]));
  }
  /* Wedding Tips section */
  function showTips() {
    showTypingIndicator();
    setTimeout(() => {
      hideTypingIndicator();
      addMessage(translations[currentLanguage].tipsMessage);
      const tips = {
        ar: [
          "üéä ÿ™ÿ£ŸÉÿØ ŸÖŸÜ ÿ™ÿ≠ÿØŸäÿØ ŸÖŸäÿ≤ÿßŸÜŸäÿ© Ÿàÿßÿ∂ÿ≠ÿ© ŸÑÿ≠ŸÅŸÑ ÿßŸÑÿ≤ŸÅÿßŸÅ.",
          "üéä ŸÇŸÖ ÿ®ÿ•ŸÜÿ¥ÿßÿ° ŸÇÿßÿ¶ŸÖÿ© ÿßŸÑÿ∂ŸäŸàŸÅ ŸÖÿ®ŸÉÿ±Ÿãÿß ŸÑÿ™ÿ≥ŸáŸäŸÑ ÿßŸÑÿ™ÿÆÿ∑Ÿäÿ∑.",
          "üéä ÿßÿÆÿ™ÿ± ŸÖŸÉÿßŸÜŸãÿß ŸäŸÜÿßÿ≥ÿ® ÿπÿØÿØ ÿßŸÑÿ∂ŸäŸàŸÅ ŸàÿßŸÑŸÖŸäÿ≤ÿßŸÜŸäÿ©.",
          "üéä ŸÑÿß ÿ™ŸÜÿ≥Ÿâ ÿ™Ÿàÿ´ŸäŸÇ ÿßŸÑŸÑÿ≠ÿ∏ÿßÿ™ ÿßŸÑÿ¨ŸÖŸäŸÑÿ© ŸÖÿπ ŸÖÿµŸàÿ± ŸÖÿ≠ÿ™ÿ±ŸÅ."
        ],
        en: [
          "üéä Make sure to set a clear budget for your wedding.",
          "üéä Create your guest list early to ease planning.",
          "üéä Choose a venue that fits your guest count and budget.",
          "üéä Don‚Äôt forget to capture beautiful moments with a professional photographer."
        ],
        fr: [
          "üéä Assurez-vous de d√©finir un budget clair pour votre mariage.",
          "üéä √âtablissez votre liste d'invit√©s t√¥t pour faciliter l'organisation.",
          "üéä Choisissez un lieu qui correspond au nombre d'invit√©s et au budget.",
          "üéä N'oubliez pas de capturer les moments pr√©cieux avec un photographe professionnel."
        ]
      };
      tips[currentLanguage].forEach(tip => addMessage(tip));
    }, 1000);
  }
  /* FAQ section */
  function askAboutWedding() {
    showTypingIndicator();
    setTimeout(() => {
      hideTypingIndicator();
      addMessage(translations[currentLanguage].faqMessage);
      const questions = {
        ar: [
          "ŸÖÿß ŸáŸä ÿ£ŸÅÿ∂ŸÑ ÿßŸÑÿ®ÿßŸÇÿßÿ™ ÿßŸÑŸÖÿ™ÿßÿ≠ÿ©ÿü",
          "ŸÉŸäŸÅ ŸäŸÖŸÉŸÜŸÜŸä ÿ≠ÿ¨ÿ≤ ŸÖŸàÿπÿØÿü",
          "ŸÖÿß ŸáŸä ÿÆŸäÿßÿ±ÿßÿ™ ÿ™ÿµŸÖŸäŸÖ ÿßŸÑÿØÿπŸàÿßÿ™ÿü"
        ],
        en: [
          "What are the best available packages?",
          "How do I book an appointment?",
          "What are the invitation design options?"
        ],
        fr: [
          "Quels sont les meilleurs forfaits disponibles?",
          "Comment puis-je prendre rendez-vous?",
          "Quelles sont les options de conception des invitations?"
        ]
      };
      questions[currentLanguage].forEach(question => {
        const btn = createOptionButton(question, () => respondToQuestion(question));
        document.getElementById('chatBody').appendChild(btn);
      });
    }, 1000);
  }
  function respondToQuestion(question) {
    addMessage(question, true);
    let response = "";
    if (question === (currentLanguage === 'ar' ? "ŸÖÿß ŸáŸä ÿ£ŸÅÿ∂ŸÑ ÿßŸÑÿ®ÿßŸÇÿßÿ™ ÿßŸÑŸÖÿ™ÿßÿ≠ÿ©ÿü" : currentLanguage === 'en' ? "What are the best available packages?" : "Quels sont les meilleurs forfaits disponibles?")) {
      response = currentLanguage === 'ar'
        ? getRandomItem(["üéÅ ŸÑÿØŸäŸÜÿß ÿ´ŸÑÿßÿ´ ÿ®ÿßŸÇÿßÿ™: ÿßŸÑÿ£ÿ≥ÿßÿ≥Ÿäÿ©ÿå ÿßŸÑŸÅÿßÿÆÿ±ÿ©ÿå ŸàÿßŸÑŸÖŸÑŸÉŸäÿ©. ŸäŸÖŸÉŸÜŸÉ ÿßÿÆÿ™Ÿäÿßÿ± ŸÖÿß ŸäŸÜÿßÿ≥ÿ®ŸÉ!", "üéâ ÿÆŸäÿßÿ±ÿßÿ™ŸÜÿß ŸÖÿ™ŸÜŸàÿπÿ© ŸÑÿ™ŸÑÿ®Ÿäÿ© ÿßÿ≠ÿ™Ÿäÿßÿ¨ÿßÿ™ŸÉÿå ÿßÿÆÿ™ÿ± ŸÖŸÜ ÿßŸÑÿ®ÿßŸÇÿßÿ™ ÿßŸÑÿ£ÿ≥ÿßÿ≥Ÿäÿ© ŸàÿßŸÑŸÅÿßÿÆÿ±ÿ© ŸàÿßŸÑŸÖŸÑŸÉŸäÿ©."])
        : currentLanguage === 'en'
        ? getRandomItem(["üéÅ We offer three packages: Basic, Premium, and Royal. Choose the one that suits you best!", "üéâ Our options are varied to meet your needs. Select from Basic, Premium, or Royal packages."])
        : getRandomItem(["üéÅ Nous proposons trois forfaits : de base, premium et royal. Choisissez celui qui vous convient le mieux!", "üéâ Nos options sont vari√©es pour r√©pondre √† vos besoins, choisissez parmi les forfaits de base, premium ou royal."]);
    } else if (question === (currentLanguage === 'ar' ? "ŸÉŸäŸÅ ŸäŸÖŸÉŸÜŸÜŸä ÿ≠ÿ¨ÿ≤ ŸÖŸàÿπÿØÿü" : currentLanguage === 'en' ? "How do I book an appointment?" : "Comment puis-je prendre rendez-vous?")) {
      response = currentLanguage === 'ar'
        ? getRandomItem(["üìÖ ŸäŸÖŸÉŸÜŸÉ ÿ≠ÿ¨ÿ≤ ŸÖŸàÿπÿØ ŸÖŸÜ ÿÆŸÑÿßŸÑ ÿßŸÑÿ∂ÿ∫ÿ∑ ÿπŸÑŸâ ÿ≤ÿ± 'ÿ≠ÿ¨ÿ≤ ŸÖŸàÿπÿØ' ŸàÿßÿÆÿ™Ÿäÿßÿ± ÿßŸÑÿ™ÿßÿ±ŸäÿÆ.", "‚è∞ ÿ≠ÿ¨ÿ≤ ÿßŸÑŸÖŸàÿπÿØ ÿ≥ŸáŸÑÿå ŸÅŸÇÿ∑ ÿßÿ∂ÿ∫ÿ∑ ÿπŸÑŸâ 'ÿ≠ÿ¨ÿ≤ ŸÖŸàÿπÿØ' Ÿàÿßÿ™ÿ®ÿπ ÿßŸÑÿ™ÿπŸÑŸäŸÖÿßÿ™."])
        : currentLanguage === 'en'
        ? getRandomItem(["üìÖ You can book an appointment by clicking the 'Book an Appointment' button and selecting a date.", "‚è∞ Booking is easy, just click 'Book an Appointment' and follow the instructions."])
        : getRandomItem(["üìÖ Vous pouvez prendre rendez-vous en cliquant sur 'Prendre rendez-vous' et en s√©lectionnant une date.", "‚è∞ La r√©servation est simple, cliquez sur 'Prendre rendez-vous' et suivez les instructions."]);
    } else if (question === (currentLanguage === 'ar' ? "ŸÖÿß ŸáŸä ÿÆŸäÿßÿ±ÿßÿ™ ÿ™ÿµŸÖŸäŸÖ ÿßŸÑÿØÿπŸàÿßÿ™ÿü" : currentLanguage === 'en' ? "What are the invitation design options?" : "Quelles sont les options de conception des invitations?")) {
      response = currentLanguage === 'ar'
        ? getRandomItem(["üé® ŸÑÿØŸäŸÜÿß ÿ™ÿµÿßŸÖŸäŸÖ ŸÉŸÑÿßÿ≥ŸäŸÉŸäÿ©ÿå ÿπÿµÿ±Ÿäÿ©ÿå ŸàŸÖÿÆÿµÿµÿ© ÿ≠ÿ≥ÿ® ÿ±ÿ∫ÿ®ÿ™ŸÉ.", "üñåÔ∏è ÿÆŸäÿßÿ±ÿßÿ™ ÿ™ÿµŸÖŸäŸÖ ÿßŸÑÿØÿπŸàÿßÿ™ ŸÑÿØŸäŸÜÿß ÿ™ÿ¥ŸÖŸÑ ÿßŸÑŸÜŸÖÿ∑ ÿßŸÑŸÉŸÑÿßÿ≥ŸäŸÉŸä ŸàÿßŸÑÿπÿµÿ±Ÿäÿå ŸàŸäŸÖŸÉŸÜ ÿ™ÿÆÿµŸäÿµŸáÿß ÿ®ÿßŸÑŸÉÿßŸÖŸÑ."])
        : currentLanguage === 'en'
        ? getRandomItem(["üé® We offer Classic, Modern, and Custom invitation designs.", "üñåÔ∏è Our invitation design options include Classic and Modern styles, fully customizable."])
        : getRandomItem(["üé® Nous proposons des designs classiques, modernes et personnalis√©s.", "üñåÔ∏è Nos options de conception des invitations incluent des styles classiques et modernes, enti√®rement personnalisables."]);
    } else {
      response = currentLanguage === 'ar'
        ? "ü§î ÿπÿ∞ÿ±Ÿãÿßÿå ŸÑÿß ÿ£ÿ≥ÿ™ÿ∑Ÿäÿπ ŸÖÿ≥ÿßÿπÿØÿ™ŸÉ ŸÅŸä ÿ∞ŸÑŸÉ."
        : currentLanguage === 'en'
        ? "ü§î Sorry, I can't assist with that."
        : "ü§î D√©sol√©, je ne peux pas vous aider avec cela.";
    }
    addMessage(response);
  }
  /* Wedding Game: Interactive wedding planning */
  function planWeddingGame() {
    weddingPlan = {};
    addMessage(
      currentLanguage === 'ar'
        ? "üéÆ ŸÖÿ±ÿ≠ÿ®Ÿãÿß ÿ®ŸÉ ŸÅŸä ŸÑÿπÿ®ÿ© ÿ™ŸÜÿ∏ŸäŸÖ ÿ≠ŸÅŸÑ ÿßŸÑÿ≤ŸÅÿßŸÅ ÿßŸÑÿ™ŸÅÿßÿπŸÑŸäÿ©!"
        : currentLanguage === 'en'
        ? "üéÆ Welcome to the interactive wedding planning game!"
        : "üéÆ Bienvenue dans le jeu interactif d'organisation de mariage!"
    );
    addMessage(
      currentLanguage === 'ar'
        ? "ŸÑŸÜÿ®ÿØÿ£ ÿ£ŸàŸÑÿßŸãÿå ÿßÿÆÿ™ÿ± ÿßŸÑŸÖŸÉÿßŸÜ ÿßŸÑŸÖÿ´ÿßŸÑŸä ŸÑÿ•ŸÇÿßŸÖÿ© ÿßŸÑÿ≠ŸÅŸÑ:"
        : currentLanguage === 'en'
        ? "Let's start by choosing the perfect venue for the wedding:"
        : "Commen√ßons par choisir le lieu id√©al pour le mariage:"
    );
    removeOptionButtons();
    const venues = {
      ar: ["ŸÇÿßÿπÿ© ŸÅÿÆŸÖÿ©", "ÿ≠ÿØŸäŸÇÿ© ÿ±ŸàŸÖÿßŸÜÿ≥Ÿäÿ©", "ÿ¥ÿßÿ∑ÿ¶ ÿßŸÑÿ®ÿ≠ÿ±", "ŸÅŸÜÿØŸÇ ÿÆŸÖÿ≥ ŸÜÿ¨ŸàŸÖ"],
      en: ["Luxurious Hall", "Romantic Garden", "Beachside", "Five Star Hotel"],
      fr: ["Salle luxueuse", "Jardin romantique", "Bord de mer", "H√¥tel cinq √©toiles"]
    };
    venues[currentLanguage].forEach(venue => {
      const btn = createOptionButton(venue, () => selectVenue(venue));
      document.getElementById('chatBody').appendChild(btn);
    });
  }
  function selectVenue(venue) {
    weddingPlan.venue = venue;
    addMessage(`${currentLanguage === 'ar' ? "ŸÑŸÇÿØ ÿßÿÆÿ™ÿ±ÿ™:" : currentLanguage === 'en' ? "You chose:" : "Vous avez choisi:"} ${venue}`, true);
    removeOptionButtons();
    addMessage(
      currentLanguage === 'ar'
        ? "ÿßŸÑÿ¢ŸÜ ÿßÿÆÿ™ÿ± ŸÑŸàŸÜ ÿßŸÑÿØŸäŸÉŸàÿ± ÿßŸÑŸÖŸÅÿ∂ŸÑ:"
        : currentLanguage === 'en'
        ? "Now choose your preferred decor color:"
        : "Choisissez maintenant la couleur de d√©coration pr√©f√©r√©e:"
    );
    const decors = {
      ar: ["Ÿàÿ±ÿØŸä", "ÿ£ÿ≤ÿ±ŸÇ", "ÿ∞Ÿáÿ®Ÿä", "ÿ£ÿÆÿ∂ÿ±"],
      en: ["Pink", "Blue", "Gold", "Green"],
      fr: ["Rose", "Bleu", "Dor√©", "Vert"]
    };
    decors[currentLanguage].forEach(decor => {
      const btn = createOptionButton(decor, () => selectDecor(decor));
      document.getElementById('chatBody').appendChild(btn);
    });
  }
  function selectDecor(decor) {
    weddingPlan.decor = decor;
    addMessage(`${currentLanguage === 'ar' ? "ŸÑŸÇÿØ ÿßÿÆÿ™ÿ±ÿ™:" : currentLanguage === 'en' ? "You chose:" : "Vous avez choisi:"} ${decor}`, true);
    removeOptionButtons();
    addMessage(
      currentLanguage === 'ar'
        ? "ÿßÿÆÿ™ÿ± ŸÜŸàÿπ ÿßŸÑŸÉÿπŸÉÿ© ŸÑŸÑŸäŸÑÿ© ÿßŸÑÿ≤ŸÅÿßŸÅ:"
        : currentLanguage === 'en'
        ? "Choose the type of wedding cake:"
        : "Choisissez le type de g√¢teau de mariage:"
    );
    const cakes = {
      ar: ["ŸÉÿπŸÉÿ© ÿ™ŸÇŸÑŸäÿØŸäÿ©", "ŸÉÿπŸÉÿ© ÿ≠ÿØŸäÿ´ÿ©", "ŸÉÿπŸÉÿ© ÿßŸÑŸÅŸàÿßŸÉŸá", "ŸÉÿπŸÉÿ© ÿßŸÑÿ¥ŸàŸÉŸàŸÑÿßÿ™ÿ©"],
      en: ["Traditional Cake", "Modern Cake", "Fruit Cake", "Chocolate Cake"],
      fr: ["G√¢teau traditionnel", "G√¢teau moderne", "G√¢teau aux fruits", "G√¢teau au chocolat"]
    };
    cakes[currentLanguage].forEach(cake => {
      const btn = createOptionButton(cake, () => selectCake(cake));
      document.getElementById('chatBody').appendChild(btn);
    });
  }
  function selectCake(cake) {
    weddingPlan.cake = cake;
    addMessage(`${currentLanguage === 'ar' ? "ŸÑŸÇÿØ ÿßÿÆÿ™ÿ±ÿ™:" : currentLanguage === 'en' ? "You chose:" : "Vous avez choisi:"} ${cake}`, true);
    removeOptionButtons();
    displayWeddingPlan();
  }
  function displayWeddingPlan() {
    addMessage(
      currentLanguage === 'ar'
        ? "‚ú® ÿ•ŸÑŸäŸÉ ÿÆÿ∑ÿ© ÿ≤ŸÅÿßŸÅŸÉ ÿßŸÑŸÖÿ´ÿßŸÑŸäÿ©:"
        : currentLanguage === 'en'
        ? "‚ú® Here is your ideal wedding plan:"
        : "‚ú® Voici votre plan de mariage id√©al:"
    );
    addMessage(`${currentLanguage === 'ar' ? "ÿßŸÑŸÖŸÉÿßŸÜ:" : currentLanguage === 'en' ? "Venue:" : "Lieu:"} ${weddingPlan.venue}`);
    addMessage(`${currentLanguage === 'ar' ? "ÿßŸÑÿØŸäŸÉŸàÿ±:" : currentLanguage === 'en' ? "Decor:" : "D√©cor:"} ${weddingPlan.decor}`);
    addMessage(`${currentLanguage === 'ar' ? "ÿßŸÑŸÉÿπŸÉÿ©:" : currentLanguage === 'en' ? "Cake:" : "G√¢teau:"} ${weddingPlan.cake}`);
    addMessage(
      currentLanguage === 'ar'
        ? "üéâ ÿ™ŸáÿßŸÜŸäŸÜÿß! ŸÑŸÇÿØ ŸÇŸÖÿ™ ÿ®ÿ™ŸÜÿ∏ŸäŸÖ ÿ≠ŸÅŸÑ ÿ≤ŸÅÿßŸÅ ÿ£ÿ≠ŸÑÿßŸÖŸÉ!"
        : currentLanguage === 'en'
        ? "üéâ Congratulations! You've planned your dream wedding!"
        : "üéâ F√©licitations! Vous avez planifi√© le mariage de vos r√™ves!"
    );
  }
  document.getElementById("homeButton").addEventListener("click", goHome);
  // When the site refreshes, display the language selection screen as the main page.
  window.addEventListener('DOMContentLoaded', () => {
    showLanguageSelection();
  });
  // Helper function to get a random item from an array.
  function getRandomItem(arr) {
    return arr[Math.floor(Math.random() * arr.length)];
  }
</script>

</body>
</html>
