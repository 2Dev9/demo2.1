<!DOCTYPE html>
<html lang="fr" dir="ltr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Assistant de mariage intelligent</title>
  <link href="https://fonts.googleapis.com/css?family=Roboto:400,500|Great+Vibes&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="all.css">
  <style>
    :root {
      --primary: #5a3e36;       /* Main brown accent */
      --secondary: #7a5a52;     /* Lighter brown for hover effects */
    }
    body {
      font-family: 'Roboto', sans-serif;
      margin: 0;
      background: #f8f9fa;
      background-image: url("wallpaperflare.com_wallpaper.jpg");
      background-size: cover;         /* Ensures the image covers the whole background */
      background-repeat: no-repeat;   /* Prevents the image from repeating */
      background-position: center;    /* Centers the image */
      margin: 0;
      height: 100vh;                  /* Makes the body full height */
    }
    /* Chat Button â€“ remains unchanged in size */
    .chat-btn {
      position: fixed;
      bottom: 20px;
      left: 20px;
      width: 60px;
      height: 60px;
      border-radius: 50%;
      background: linear-gradient(45deg, var(--primary), var(--secondary));
      color: white;
      border: none;
      cursor: pointer;
      box-shadow: 0 4px 15px rgba(0,0,0,0.2);
      transition: all 0.3s ease;
      font-size: 24px;
    }
    .chat-btn:hover {
      transform: scale(1.1) rotate(360deg);
    }
    /* Chat Box â€“ size remains as originally set */
    .chat-box {
      position: fixed;
      bottom: 90px;
      left: 20px;
      width: 320px;
      background: rgba(255, 255, 255, 0.95);
      backdrop-filter: blur(5px);
      border-radius: 20px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.15);
      display: none;
    }
    .chat-header {
      padding: 15px;
      background: linear-gradient(45deg, var(--primary), var(--secondary));
      color: white;
      border-radius: 20px 20px 0 0;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    .chat-header span {
      font-family: 'Great Vibes', cursive;
      font-size: 2em;
    }
    .chat-header .header-buttons {
      display: flex;
      gap: 5px;
    }
    .chat-header button {
      background: transparent;
      border: none;
      color: white;
      cursor: pointer;
      font-size: 16px;
      transition: opacity 0.3s;
    }
    .chat-header button:hover {
      opacity: 0.8;
    }
    .chat-body {
      height: 350px;
      padding: 15px;
      overflow-y: auto;
      background: #f8f9fa;
    }
    .message {
      margin: 10px 0;
      padding: 12px;
      border-radius: 15px;
      max-width: 80%;
      animation: popIn 0.3s ease;
    }
    @keyframes popIn {
      from { transform: scale(0.9); opacity: 0; }
      to { transform: scale(1); opacity: 1; }
    }
    .bot-message {
      background: white;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
    }
    .user-message {
      background: var(--primary);
      color: white;
      margin-left: auto;
    }
    /* Updated Option Button Styling â€“ vertical & full width */
    .option-btn {
      display: block;
      width: 100%;
      padding: 10px;
      margin-top: 5px;
      border: 2px solid var(--primary);
      border-radius: 25px;
      background: transparent;
      color: var(--primary);
      cursor: pointer;
      transition: background 0.2s ease, transform 0.2s ease, color 0.2s ease;
    }
    .option-btn:hover {
      background: var(--primary);
      color: white;
      transform: translateY(-2px);
    }
    @keyframes clickEffect {
      0% { transform: scale(1); }
      50% { transform: scale(0.95); }
      100% { transform: scale(1); }
    }
    .typing-indicator {
      display: inline-flex;
      padding: 10px;
    }
    .typing-dot {
      width: 6px;
      height: 6px;
      margin: 0 3px;
      background: #ddd;
      border-radius: 50%;
      animation: typing 1.4s infinite;
    }
    @keyframes typing {
      0%, 60%, 100% { transform: translateY(0); }
      30% { transform: translateY(-6px); }
    }
  </style>
</head>
<body>
<!-- icon ||
          v  -->
<button class="chat-btn" onclick="toggleChat()"><i class="fa-regular fa-comment-dots fa-bounce"></i></button>

<div class="chat-box" id="chatBox">
  <div class="chat-header">
    <span id="chatHeaderText">LUMO</span>
    <div class="header-buttons">
      <button id="homeButton" onclick="goHome()">Accueil</button>
      <button onclick="toggleChat()">âœ•</button>
    </div>
  </div>
  <div class="chat-body" id="chatBody">
    <!-- Language selection and chat messages will appear here -->
  </div>
</div>

<script>
  let isChatOpen = false;
  let currentLanguage = null; // will be set after language selection
  let languagePromptDisplayed = false; // ensures prompt shows only once

  const translations = {
    ar: {
      welcome: "ðŸŽ‰ Ù…Ø±Ø­Ø¨Ø§! Ø£Ù†Ø§ Ù‡Ù†Ø§ Ù„Ù…Ø³Ø§Ø¹Ø¯ØªÙƒ ÙÙŠ ØªØ®Ø·ÙŠØ· Ø­ÙÙ„ Ø§Ù„Ø²ÙØ§ÙØŒ Ù…Ù† Ø£ÙŠÙ† Ù†Ø¨Ø¯Ø£ØŸ",
      header: "LUMO",
      home: "Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©",
      packages: "Ø¹Ø±Ø¶ Ø§Ù„Ø¨Ø§Ù‚Ø§Øª",
      designs: "ØªØµÙ…ÙŠÙ… Ø§Ù„Ø¯Ø¹ÙˆØ§Øª",
      booking: "Ø­Ø¬Ø² Ù…ÙˆØ¹Ø¯",
      tips: "Ù†ØµØ§Ø¦Ø­ Ø§Ù„Ø²ÙØ§Ù",
      faq: "Ø£Ø³Ø¦Ù„Ø© Ø´Ø§Ø¦Ø¹Ø©",
      game: "Ù„Ø¹Ø¨Ø© ØªÙ†Ø¸ÙŠÙ… Ø§Ù„Ø­ÙÙ„",
      back: "Ø±Ø¬ÙˆØ¹",
      packagesMessage: "ðŸŽ Ù„Ø¯ÙŠÙ†Ø§ Ù…Ø¬Ù…ÙˆØ¹Ø© Ù…Ù…ÙŠØ²Ø© Ù…Ù† Ø§Ù„Ø¨Ø§Ù‚Ø§Øª!",
      designMessage: "ðŸŽ¨ Ù„Ø¯ÙŠÙ†Ø§ Ø§Ù„Ø¹Ø¯ÙŠØ¯ Ù…Ù† Ø§Ù„ØªØµØ§Ù…ÙŠÙ… Ø§Ù„Ø±Ø§Ø¦Ø¹Ø©!",
      bookingMessage: "ðŸ“… Ù…ØªÙ‰ ØªØ±ØºØ¨ ÙÙŠ Ù…Ù‚Ø§Ø¨Ù„Ø© Ø§Ù„Ø§Ø³ØªØ´Ø§Ø±ÙŠØŸ",
      tipsMessage: "ðŸ“ Ø¥Ù„ÙŠÙƒ Ø¨Ø¹Ø¶ Ø§Ù„Ù†ØµØ§Ø¦Ø­ Ø§Ù„Ù…ÙÙŠØ¯Ø©!",
      faqMessage: "â“ Ù‡Ù„ Ù„Ø¯ÙŠÙƒ Ø£Ø³Ø¦Ù„Ø©ØŸ Ø¥Ù„ÙŠÙƒ Ø¨Ø¹Ø¶ Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø§Ù„Ø´Ø§Ø¦Ø¹Ø©:",
      chooseLanguage: "Ù…Ù† ÙØ¶Ù„Ùƒ Ø§Ø®ØªØ± Ù„ØºØªÙƒ:",
      languages: { ar: "Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©", en: "English", fr: "FranÃ§ais" }
    },
    en: {
      welcome: "ðŸŽ‰ Hello! I'm here to help you plan your wedding, where do we start?",
      header: "LUMO",
      home: "Home",
      packages: "View Packages",
      designs: "Design Invitations",
      booking: "Book an Appointment",
      tips: "Wedding Tips",
      faq: "FAQs",
      game: "Plan Your Wedding Game",
      back: "Back",
      packagesMessage: "ðŸŽ We have an amazing range of packages!",
      designMessage: "ðŸŽ¨ We have many wonderful designs!",
      bookingMessage: "ðŸ“… When would you like to meet with the consultant?",
      tipsMessage: "ðŸ“ Here are some helpful tips!",
      faqMessage: "â“ Do you have any questions? Here are some FAQs:",
      chooseLanguage: "Please choose your language:",
      languages: { ar: "Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©", en: "English", fr: "FranÃ§ais" }
    },
    fr: {
      welcome: "ðŸŽ‰ Bonjour! Je suis ici pour vous aider Ã  planifier votre mariage, par oÃ¹ commencer?",
      header: "LUMO",
      home: "Accueil",
      packages: "Voir les forfaits",
      designs: "Concevoir les invitations",
      booking: "Prendre rendez-vous",
      tips: "Conseils de mariage",
      faq: "FAQ",
      game: "Jeu d'organisation de mariage",
      back: "Retour",
      packagesMessage: "ðŸŽ Nous avons une gamme de forfaits incroyable!",
      designMessage: "ðŸŽ¨ Nous avons de nombreux designs magnifiques!",
      bookingMessage: "ðŸ“… Quand souhaitez-vous rencontrer le consultant?",
      tipsMessage: "ðŸ“ Voici quelques conseils utiles!",
      faqMessage: "â“ Avez-vous des questions? Voici quelques FAQ:",
      chooseLanguage: "Veuillez choisir votre langue:",
      languages: { ar: "Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©", en: "English", fr: "FranÃ§ais" }
    }
  };

  // Adds a message to the chat body.
  function addMessage(text, isUser = false, isKey = false) {
    const chatBody = document.getElementById('chatBody');
    const msgDiv = document.createElement('div');
    msgDiv.className = `message ${isUser ? 'user-message' : 'bot-message'}`;
    if (isKey && !currentLanguage) {
      msgDiv.textContent = translations["fr"].chooseLanguage;
      msgDiv.classList.add("language-prompt");
    } else {
      msgDiv.textContent = text;
    }
    chatBody.appendChild(msgDiv);
    chatBody.scrollTop = chatBody.scrollHeight;
  }

  // Removes option buttons from the chat.
  function removeOptionButtons() {
    document.querySelectorAll('#chatBody .option-btn').forEach(btn => btn.remove());
  }

  // Displays the language selection screen.
  function showLanguageSelection() {
    const chatBody = document.getElementById("chatBody");
    chatBody.innerHTML = "";
    if (!languagePromptDisplayed) {
      addMessage("chooseLanguage", false, true);
      languagePromptDisplayed = true;
    }
    const langOptions = translations["fr"].languages;
    Object.keys(langOptions).forEach(lang => {
      const btn = document.createElement("button");
      btn.className = "option-btn";
      btn.textContent = langOptions[lang];
      btn.onclick = () => selectLanguage(lang);
      chatBody.appendChild(btn);
    });
  }

  // Sets the chosen language and updates header texts.
  function selectLanguage(lang) {
    currentLanguage = lang;
    document.documentElement.lang = lang;
    document.documentElement.dir = (lang === 'ar') ? 'rtl' : 'ltr';
    document.getElementById('chatHeaderText').textContent = translations[lang].header;
    document.getElementById('homeButton').textContent = translations[lang].home;
    document.querySelectorAll('.language-prompt').forEach(el => el.remove());
    removeOptionButtons();
    addMessage(translations[lang].welcome);
    showInitialOptions();
  }

  // Returns to the language selection screen.
  function goHome() {
    currentLanguage = null;
    languagePromptDisplayed = false;
    document.getElementById('chatHeaderText').textContent = translations["fr"].header;
    document.getElementById('homeButton').textContent = translations["fr"].home;
    document.getElementById("chatBody").innerHTML = "";
    showLanguageSelection();
  }

  // Toggles the chat box display.
  function toggleChat() {
    const chatBox = document.getElementById('chatBox');
    isChatOpen = !isChatOpen;
    chatBox.style.display = isChatOpen ? 'block' : 'none';
    if (isChatOpen) {
      if (!currentLanguage) {
        showLanguageSelection();
      }
      document.getElementById('chatBody').scrollTop = document.getElementById('chatBody').scrollHeight;
    }
  }

  // Displays the initial options.
  function showInitialOptions() {
    const chatBody = document.getElementById('chatBody');
    const initialOptions = document.createElement("div");
    initialOptions.id = "initialOptions";
    initialOptions.innerHTML = `
      <button class="option-btn" onclick="showPackages()">${translations[currentLanguage].packages}</button>
      <button class="option-btn" onclick="showDesigns()">${translations[currentLanguage].designs}</button>
      <button class="option-btn" onclick="startBooking()">${translations[currentLanguage].booking}</button>
      <button class="option-btn" onclick="showTips()">${translations[currentLanguage].tips}</button>
      <button class="option-btn" onclick="askAboutWedding()">${translations[currentLanguage].faq}</button>
      <button class="option-btn" onclick="planWeddingGame()">${translations[currentLanguage].game}</button>
      <button class="option-btn" onclick="goHome()">${translations[currentLanguage].back}</button>
    `;
    chatBody.appendChild(initialOptions);
  }

  function getRandomItem(arr) {
    return arr[Math.floor(Math.random() * arr.length)];
  }

  function showTypingIndicator() {
    const typingDiv = document.createElement('div');
    typingDiv.className = 'typing-indicator';
    typingDiv.innerHTML = '<div class="typing-dot"></div><div class="typing-dot"></div><div class="typing-dot"></div>';
    document.getElementById('chatBody').appendChild(typingDiv);
  }

  function hideTypingIndicator() {
    const typingDiv = document.querySelector('.typing-indicator');
    if (typingDiv) typingDiv.remove();
  }

  // Chat functions below (packages, designs, booking, tips, FAQ, wedding game) remain as in the original code.
  function showPackages() {
    showTypingIndicator();
    setTimeout(() => {
      hideTypingIndicator();
      addMessage(translations[currentLanguage].packagesMessage);
      const packages = {
        ar: [
          'ðŸŽ€ Ø§Ù„Ø¨Ø§Ù‚Ø© Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ© - 5000 Ø¯.Ø¬ ',
          'ðŸŽ€ Ø§Ù„Ø¨Ø§Ù‚Ø© Ø§Ù„ÙØ§Ø®Ø±Ø© - 8000 Ø¯.Ø¬ ',
          'ðŸŽ€ Ø§Ù„Ø¨Ø§Ù‚Ø© Ø§Ù„Ù…Ù„ÙƒÙŠØ© - 12000 Ø¯.Ø¬'
        ],
        en: [
          'ðŸŽ€ Basic Package - 5000 DZD',
          'ðŸŽ€ Premium Package - 8000 DZD',
          'ðŸŽ€ Royal Package - 12000 DZD'
        ],
        fr: [
          'ðŸŽ€ Forfait de base - 5000 DZD',
          'ðŸŽ€ Forfait premium - 8000 DZD',
          'ðŸŽ€ Forfait royal - 12000 DZD'
        ]
      };
      packages[currentLanguage].forEach(pkg => {
        const btn = document.createElement('button');
        btn.className = 'option-btn';
        btn.textContent = pkg;
        btn.onclick = () => selectPackage(pkg);
        document.getElementById('chatBody').appendChild(btn);
      });
    }, 1000);
  }

  function selectPackage(pkg) {
    addMessage(pkg.split(' - ')[0], true);
    const responses = {
      ar: [
        `ðŸ’Œ Ù…Ù…ØªØ§Ø²! Ø³Ù†Ù‚ÙˆÙ… Ø¨Ø¥Ø±Ø³Ø§Ù„ ØªÙØ§ØµÙŠÙ„ ${pkg} Ù„Ø¨Ø±ÙŠØ¯Ùƒ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ.`,
        `ðŸ“§ Ø±Ø§Ø¦Ø¹! Ø§Ø³ØªØ¹Ø¯ Ù„Ø§Ø³ØªÙ„Ø§Ù… ØªÙØ§ØµÙŠÙ„ ${pkg} Ø¹Ù„Ù‰ Ø¨Ø±ÙŠØ¯Ùƒ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ.`,
        `âœ… ØªÙ… Ø§Ø®ØªÙŠØ§Ø± ${pkg.split(' - ')[0]}! Ø³ØªØµÙ„Ùƒ Ø§Ù„ØªÙØ§ØµÙŠÙ„ Ù‚Ø±ÙŠØ¨Ø§Ù‹.`
      ],
      en: [
        `ðŸ’Œ Great! We'll send the details of ${pkg} to your email.`,
        `ðŸ“§ Awesome! Get ready to receive details of ${pkg} in your email.`,
        `âœ… You selected ${pkg.split(' - ')[0]}! Details will follow soon.`
      ],
      fr: [
        `ðŸ’Œ Super! Nous enverrons les dÃ©tails de ${pkg} Ã  votre email.`,
        `ðŸ“§ GÃ©nial! PrÃ©parez-vous Ã  recevoir les dÃ©tails de ${pkg} par email.`,
        `âœ… Vous avez choisi ${pkg.split(' - ')[0]}! Les dÃ©tails suivront bientÃ´t.`
      ]
    };
    addMessage(getRandomItem(responses[currentLanguage]));
    addMessage(
      currentLanguage === 'ar'
        ? 'ðŸ“§ Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø¨Ø±ÙŠØ¯Ùƒ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ:'
        : currentLanguage === 'en'
        ? 'ðŸ“§ Please enter your email:'
        : 'ðŸ“§ Veuillez saisir votre email:'
    );
    const input = document.createElement('input');
    input.type = 'email';
    input.placeholder = 'example@email.com';
    input.style.width = '100%';
    input.style.padding = '10px';
    input.style.margin = '10px 0';
    input.onkeypress = (e) => {
      if (e.key === 'Enter') {
        confirmEmail(input.value);
        input.remove();
      }
    };
    document.getElementById('chatBody').appendChild(input);
  }

  function confirmEmail(email) {
    addMessage(email, true);
    const responses = {
      ar: [
        'âœ… ØªÙ… Ø§Ù„Ø¥Ø±Ø³Ø§Ù„! Ø³ØªØ³ØªÙ„Ù… Ø§Ù„ØªÙØ§ØµÙŠÙ„ Ø®Ù„Ø§Ù„ Ø¯Ù‚Ø§Ø¦Ù‚.',
        'ðŸ“¬ Ø¨Ø±ÙŠØ¯Ùƒ ØªÙ… ØªØ£ÙƒÙŠØ¯Ù‡ ÙˆØ³ÙŠØµÙ„Ùƒ ÙƒÙ„ Ø¬Ø¯ÙŠØ¯ Ù‚Ø±ÙŠØ¨Ø§Ù‹.'
      ],
      en: [
        'âœ… Sent! You will receive the details shortly.',
        'ðŸ“¬ Your email has been confirmed. Stay tuned for updates.'
      ],
      fr: [
        'âœ… EnvoyÃ©! Vous recevrez les dÃ©tails sous peu.',
        'ðŸ“¬ Votre email a Ã©tÃ© confirmÃ©. Restez Ã  lâ€™Ã©coute pour plus dâ€™informations.'
      ]
    };
    addMessage(getRandomItem(responses[currentLanguage]));
  }

  function showDesigns() {
    showTypingIndicator();
    setTimeout(() => {
      hideTypingIndicator();
      addMessage(translations[currentLanguage].designMessage);
      const designs = {
        ar: ['ðŸ–¼ï¸ ØªØµÙ…ÙŠÙ… ÙƒÙ„Ø§Ø³ÙŠÙƒÙŠ', 'ðŸ–¼ï¸ ØªØµÙ…ÙŠÙ… Ø¹ØµØ±ÙŠ', 'ðŸ–¼ï¸ ØªØµÙ…ÙŠÙ… Ù…Ø®ØµØµ'],
        en: ['ðŸ–¼ï¸ Classic Design', 'ðŸ–¼ï¸ Modern Design', 'ðŸ–¼ï¸ Custom Design'],
        fr: ['ðŸ–¼ï¸ Design classique', 'ðŸ–¼ï¸ Design moderne', 'ðŸ–¼ï¸ Design personnalisÃ©']
      };
      designs[currentLanguage].forEach(design => {
        const btn = document.createElement('button');
        btn.className = 'option-btn';
        btn.textContent = design;
        btn.onclick = () => selectDesign(design);
        document.getElementById('chatBody').appendChild(btn);
      });
    }, 1000);
  }

  function selectDesign(design) {
    addMessage(design, true);
    const responses = {
      ar: [
        'âœ¨ Ø³Ù†Ù‚ÙˆÙ… Ø¨ØªØµÙ…ÙŠÙ… Ù†Ù…ÙˆØ°Ø¬ Ù…Ø¨Ø¯Ø¦ÙŠ Ø®Ù„Ø§Ù„ 24 Ø³Ø§Ø¹Ø©!',
        'ðŸš€ ØªØµÙ…ÙŠÙ…Ùƒ Ø§Ù„Ù…Ø¨Ø¯Ø¦ÙŠ ÙÙŠ Ø§Ù„Ø·Ø±ÙŠÙ‚ Ø®Ù„Ø§Ù„ ÙŠÙˆÙ…ÙŠÙ†!'
      ],
      en: [
        'âœ¨ Your prototype will be ready within 24 hours!',
        'ðŸš€ Your design is on its way and will be ready in two days!'
      ],
      fr: [
        'âœ¨ Votre prototype sera prÃªt sous 24 heures!',
        'ðŸš€ Votre design est en route et sera prÃªt en deux jours!'
      ]
    };
    addMessage(getRandomItem(responses[currentLanguage]));
  }

  function startBooking() {
    showTypingIndicator();
    setTimeout(() => {
      hideTypingIndicator();
      addMessage(translations[currentLanguage].bookingMessage);
      const dates = {
        ar: ['ØºØ¯Ù‹Ø§', 'Ø¨Ø¹Ø¯ ØºØ¯', 'Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ Ø§Ù„Ù‚Ø§Ø¯Ù…'],
        en: ['Tomorrow', 'The day after tomorrow', 'Next week'],
        fr: ['Demain', 'AprÃ¨s-demain', 'La semaine prochaine']
      };
      dates[currentLanguage].forEach(date => {
        const btn = document.createElement('button');
        btn.className = 'option-btn';
        btn.textContent = date;
        btn.onclick = () => confirmDate(date);
        document.getElementById('chatBody').appendChild(btn);
      });
    }, 1000);
  }

  function confirmDate(date) {
    addMessage(date, true);
    const responses = {
      ar: [
        `ðŸ•’ ØªÙ… Ø§Ù„Ø­Ø¬Ø²! Ø³Ù†ØªÙˆØ§ØµÙ„ Ù…Ø¹Ùƒ ÙÙŠ ${date} Ø§Ù„Ø³Ø§Ø¹Ø© 4 Ù…Ø³Ø§Ø¡Ù‹.`,
        `ðŸ“† Ù…ÙˆØ¹Ø¯Ùƒ Ù…Ø¹ Ø§Ù„Ø§Ø³ØªØ´Ø§Ø±ÙŠ ÙÙŠ ${date} ØªÙ… ØªØ£ÙƒÙŠØ¯Ù‡.`
      ],
      en: [
        `ðŸ•’ Booked! We will contact you on ${date} at 4 PM.`,
        `ðŸ“† Your appointment with the consultant on ${date} is confirmed.`
      ],
      fr: [
        `ðŸ•’ RÃ©servÃ©! Nous vous contacterons ${date} Ã  16h.`,
        `ðŸ“† Votre rendez-vous avec le consultant ${date} est confirmÃ©.`
      ]
    };
    addMessage(getRandomItem(responses[currentLanguage]));
  }

  function showTips() {
    showTypingIndicator();
    setTimeout(() => {
      hideTypingIndicator();
      addMessage(translations[currentLanguage].tipsMessage);
      const tips = {
        ar: [
          "ðŸŽŠ ØªØ£ÙƒØ¯ Ù…Ù† ØªØ­Ø¯ÙŠØ¯ Ù…ÙŠØ²Ø§Ù†ÙŠØ© ÙˆØ§Ø¶Ø­Ø© Ù„Ø­ÙÙ„ Ø§Ù„Ø²ÙØ§Ù.",
          "ðŸŽŠ Ù‚Ù… Ø¨Ø¥Ù†Ø´Ø§Ø¡ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¶ÙŠÙˆÙ Ù…Ø¨ÙƒØ±Ù‹Ø§ Ù„ØªØ³Ù‡ÙŠÙ„ Ø§Ù„ØªØ®Ø·ÙŠØ·.",
          "ðŸŽŠ Ø§Ø®ØªØ± Ù…ÙƒØ§Ù†Ù‹Ø§ ÙŠÙ†Ø§Ø³Ø¨ Ø¹Ø¯Ø¯ Ø§Ù„Ø¶ÙŠÙˆÙ ÙˆØ§Ù„Ù…ÙŠØ²Ø§Ù†ÙŠØ©.",
          "ðŸŽŠ Ù„Ø§ ØªÙ†Ø³Ù‰ ØªÙˆØ«ÙŠÙ‚ Ø§Ù„Ù„Ø­Ø¸Ø§Øª Ø§Ù„Ø¬Ù…ÙŠÙ„Ø© Ù…Ø¹ Ù…ØµÙˆØ± Ù…Ø­ØªØ±Ù."
        ],
        en: [
          "ðŸŽŠ Make sure to set a clear budget for your wedding.",
          "ðŸŽŠ Create your guest list early to ease planning.",
          "ðŸŽŠ Choose a venue that fits your guest count and budget.",
          "ðŸŽŠ Donâ€™t forget to capture beautiful moments with a professional photographer."
        ],
        fr: [
          "ðŸŽŠ Assurez-vous de dÃ©finir un budget clair pour votre mariage.",
          "ðŸŽŠ Ã‰tablissez votre liste d'invitÃ©s tÃ´t pour faciliter l'organisation.",
          "ðŸŽŠ Choisissez un lieu qui correspond au nombre d'invitÃ©s et au budget.",
          "ðŸŽŠ N'oubliez pas de capturer les moments prÃ©cieux avec un photographe professionnel."
        ]
      };
      tips[currentLanguage].forEach(tip => addMessage(tip));
    }, 1000);
  }

  function askAboutWedding() {
    showTypingIndicator();
    setTimeout(() => {
      hideTypingIndicator();
      addMessage(translations[currentLanguage].faqMessage);
      const questions = {
        ar: [
          "Ù…Ø§ Ù‡ÙŠ Ø£ÙØ¶Ù„ Ø§Ù„Ø¨Ø§Ù‚Ø§Øª Ø§Ù„Ù…ØªØ§Ø­Ø©ØŸ",
          "ÙƒÙŠÙ ÙŠÙ…ÙƒÙ†Ù†ÙŠ Ø­Ø¬Ø² Ù…ÙˆØ¹Ø¯ØŸ",
          "Ù…Ø§ Ù‡ÙŠ Ø®ÙŠØ§Ø±Ø§Øª ØªØµÙ…ÙŠÙ… Ø§Ù„Ø¯Ø¹ÙˆØ§ØªØŸ"
        ],
        en: [
          "What are the best available packages?",
          "How do I book an appointment?",
          "What are the invitation design options?"
        ],
        fr: [
          "Quels sont les meilleurs forfaits disponibles?",
          "Comment puis-je prendre rendez-vous?",
          "Quelles sont les options de conception des invitations?"
        ]
      };
      questions[currentLanguage].forEach(question => {
        const btn = document.createElement('button');
        btn.className = 'option-btn';
        btn.textContent = question;
        btn.onclick = () => respondToQuestion(question);
        document.getElementById('chatBody').appendChild(btn);
      });
    }, 1000);
  }

  function respondToQuestion(question) {
    addMessage(question, true);
    let response = "";
    if (question === (currentLanguage === 'ar' ? "Ù…Ø§ Ù‡ÙŠ Ø£ÙØ¶Ù„ Ø§Ù„Ø¨Ø§Ù‚Ø§Øª Ø§Ù„Ù…ØªØ§Ø­Ø©ØŸ" : currentLanguage === 'en' ? "What are the best available packages?" : "Quels sont les meilleurs forfaits disponibles?")) {
      response = currentLanguage === 'ar'
        ? getRandomItem(["ðŸŽ Ù„Ø¯ÙŠÙ†Ø§ Ø«Ù„Ø§Ø« Ø¨Ø§Ù‚Ø§Øª: Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©ØŒ Ø§Ù„ÙØ§Ø®Ø±Ø©ØŒ ÙˆØ§Ù„Ù…Ù„ÙƒÙŠØ©. ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ø®ØªÙŠØ§Ø± Ù…Ø§ ÙŠÙ†Ø§Ø³Ø¨Ùƒ!", "ðŸŽ‰ Ø®ÙŠØ§Ø±Ø§ØªÙ†Ø§ Ù…ØªÙ†ÙˆØ¹Ø© Ù„ØªÙ„Ø¨ÙŠØ© Ø§Ø­ØªÙŠØ§Ø¬Ø§ØªÙƒØŒ Ø§Ø®ØªØ± Ù…Ù† Ø§Ù„Ø¨Ø§Ù‚Ø§Øª Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ© ÙˆØ§Ù„ÙØ§Ø®Ø±Ø© ÙˆØ§Ù„Ù…Ù„ÙƒÙŠØ©."])
        : currentLanguage === 'en'
        ? getRandomItem(["ðŸŽ We offer three packages: Basic, Premium, and Royal. Choose the one that suits you best!", "ðŸŽ‰ Our options are varied to meet your needs. Select from Basic, Premium, or Royal packages."])
        : getRandomItem(["ðŸŽ Nous proposons trois forfaits : de base, premium et royal. Choisissez celui qui vous convient le mieux!", "ðŸŽ‰ Nos options sont variÃ©es pour rÃ©pondre Ã  vos besoins, choisissez parmi les forfaits de base, premium ou royal."]);
    } else if (question === (currentLanguage === 'ar' ? "ÙƒÙŠÙ ÙŠÙ…ÙƒÙ†Ù†ÙŠ Ø­Ø¬Ø² Ù…ÙˆØ¹Ø¯ØŸ" : currentLanguage === 'en' ? "How do I book an appointment?" : "Comment puis-je prendre rendez-vous?")) {
      response = currentLanguage === 'ar'
        ? getRandomItem(["ðŸ“… ÙŠÙ…ÙƒÙ†Ùƒ Ø­Ø¬Ø² Ù…ÙˆØ¹Ø¯ Ù…Ù† Ø®Ù„Ø§Ù„ Ø§Ù„Ø¶ØºØ· Ø¹Ù„Ù‰ Ø²Ø± 'Ø­Ø¬Ø² Ù…ÙˆØ¹Ø¯' ÙˆØ§Ø®ØªÙŠØ§Ø± Ø§Ù„ØªØ§Ø±ÙŠØ®.", "â° Ø­Ø¬Ø² Ø§Ù„Ù…ÙˆØ¹Ø¯ Ø³Ù‡Ù„ØŒ ÙÙ‚Ø· Ø§Ø¶ØºØ· Ø¹Ù„Ù‰ 'Ø­Ø¬Ø² Ù…ÙˆØ¹Ø¯' ÙˆØ§ØªØ¨Ø¹ Ø§Ù„ØªØ¹Ù„ÙŠÙ…Ø§Øª."])
        : currentLanguage === 'en'
        ? getRandomItem(["ðŸ“… You can book an appointment by clicking the 'Book an Appointment' button and selecting a date.", "â° Booking is easy, just click 'Book an Appointment' and follow the instructions."])
        : getRandomItem(["ðŸ“… Vous pouvez prendre rendez-vous en cliquant sur 'Prendre rendez-vous' et en sÃ©lectionnant une date.", "â° La rÃ©servation est simple, cliquez sur 'Prendre rendez-vous' et suivez les instructions."]);
    } else if (question === (currentLanguage === 'ar' ? "Ù…Ø§ Ù‡ÙŠ Ø®ÙŠØ§Ø±Ø§Øª ØªØµÙ…ÙŠÙ… Ø§Ù„Ø¯Ø¹ÙˆØ§ØªØŸ" : currentLanguage === 'en' ? "What are the invitation design options?" : "Quelles sont les options de conception des invitations?")) {
      response = currentLanguage === 'ar'
        ? getRandomItem(["ðŸŽ¨ Ù„Ø¯ÙŠÙ†Ø§ ØªØµØ§Ù…ÙŠÙ… ÙƒÙ„Ø§Ø³ÙŠÙƒÙŠØ©ØŒ Ø¹ØµØ±ÙŠØ©ØŒ ÙˆÙ…Ø®ØµØµØ© Ø­Ø³Ø¨ Ø±ØºØ¨ØªÙƒ.", "ðŸ–Œï¸ Ø®ÙŠØ§Ø±Ø§Øª ØªØµÙ…ÙŠÙ… Ø§Ù„Ø¯Ø¹ÙˆØ§Øª Ù„Ø¯ÙŠÙ†Ø§ ØªØ´Ù…Ù„ Ø§Ù„Ù†Ù…Ø· Ø§Ù„ÙƒÙ„Ø§Ø³ÙŠÙƒÙŠ ÙˆØ§Ù„Ø¹ØµØ±ÙŠØŒ ÙˆÙŠÙ…ÙƒÙ† ØªØ®ØµÙŠØµÙ‡Ø§ Ø¨Ø§Ù„ÙƒØ§Ù…Ù„."])
        : currentLanguage === 'en'
        ? getRandomItem(["ðŸŽ¨ We offer Classic, Modern, and Custom invitation designs.", "ðŸ–Œï¸ Our invitation design options include Classic and Modern styles, fully customizable."])
        : getRandomItem(["ðŸŽ¨ Nous proposons des designs classiques, modernes et personnalisÃ©s.", "ðŸ–Œï¸ Nos options de conception des invitations incluent des styles classiques et modernes, entiÃ¨rement personnalisables."]);
    } else {
      response = currentLanguage === 'ar'
        ? "ðŸ¤” Ø¹Ø°Ø±Ù‹Ø§ØŒ Ù„Ø§ Ø£Ø³ØªØ·ÙŠØ¹ Ù…Ø³Ø§Ø¹Ø¯ØªÙƒ ÙÙŠ Ø°Ù„Ùƒ."
        : currentLanguage === 'en'
        ? "ðŸ¤” Sorry, I can't assist with that."
        : "ðŸ¤” DÃ©solÃ©, je ne peux pas vous aider avec cela.";
    }
    addMessage(response);
  }

  let weddingPlan = {};

  function planWeddingGame() {
    addMessage(
      currentLanguage === 'ar'
        ? "ðŸŽ® Ù…Ø±Ø­Ø¨Ù‹Ø§ Ø¨Ùƒ ÙÙŠ Ù„Ø¹Ø¨Ø© ØªÙ†Ø¸ÙŠÙ… Ø­ÙÙ„ Ø§Ù„Ø²ÙØ§Ù Ø§Ù„ØªÙØ§Ø¹Ù„ÙŠØ©!"
        : currentLanguage === 'en'
        ? "ðŸŽ® Welcome to the interactive wedding planning game!"
        : "ðŸŽ® Bienvenue dans le jeu interactif d'organisation de mariage!"
    );
    addMessage(
      currentLanguage === 'ar'
        ? "Ù„Ù†Ø¨Ø¯Ø£ Ø£ÙˆÙ„Ø§Ù‹ØŒ Ø§Ø®ØªØ± Ø§Ù„Ù…ÙƒØ§Ù† Ø§Ù„Ù…Ø«Ø§Ù„ÙŠ Ù„Ø¥Ù‚Ø§Ù…Ø© Ø§Ù„Ø­ÙÙ„:"
        : currentLanguage === 'en'
        ? "Let's start by choosing the perfect venue for the wedding:"
        : "CommenÃ§ons par choisir le lieu idÃ©al pour le mariage:"
    );
    removeOptionButtons();
    const venues = {
      ar: ["Ù‚Ø§Ø¹Ø© ÙØ®Ù…Ø©", "Ø­Ø¯ÙŠÙ‚Ø© Ø±ÙˆÙ…Ø§Ù†Ø³ÙŠØ©", "Ø´Ø§Ø·Ø¦ Ø§Ù„Ø¨Ø­Ø±", "ÙÙ†Ø¯Ù‚ Ø®Ù…Ø³ Ù†Ø¬ÙˆÙ…"],
      en: ["Luxurious Hall", "Romantic Garden", "Beachside", "Five Star Hotel"],
      fr: ["Salle luxueuse", "Jardin romantique", "Bord de mer", "HÃ´tel cinq Ã©toiles"]
    };
    venues[currentLanguage].forEach(venue => {
      const btn = document.createElement('button');
      btn.className = 'option-btn';
      btn.textContent = venue;
      btn.onclick = () => selectVenue(venue);
      document.getElementById('chatBody').appendChild(btn);
    });
  }

  function selectVenue(venue) {
    weddingPlan.venue = venue;
    addMessage(`${currentLanguage === 'ar' ? "Ù„Ù‚Ø¯ Ø§Ø®ØªØ±Øª:" : currentLanguage === 'en' ? "You chose:" : "Vous avez choisi:"} ${venue}`, true);
    removeOptionButtons();
    addMessage(
      currentLanguage === 'ar'
        ? "Ø§Ù„Ø¢Ù† Ø§Ø®ØªØ± Ù„ÙˆÙ† Ø§Ù„Ø¯ÙŠÙƒÙˆØ± Ø§Ù„Ù…ÙØ¶Ù„:"
        : currentLanguage === 'en'
        ? "Now choose your preferred decor color:"
        : "Choisissez maintenant la couleur de dÃ©coration prÃ©fÃ©rÃ©e:"
    );
    const decors = {
      ar: ["ÙˆØ±Ø¯ÙŠ", "Ø£Ø²Ø±Ù‚", "Ø°Ù‡Ø¨ÙŠ", "Ø£Ø®Ø¶Ø±"],
      en: ["Pink", "Blue", "Gold", "Green"],
      fr: ["Rose", "Bleu", "DorÃ©", "Vert"]
    };
    decors[currentLanguage].forEach(decor => {
      const btn = document.createElement('button');
      btn.className = 'option-btn';
      btn.textContent = decor;
      btn.onclick = () => selectDecor(decor);
      document.getElementById('chatBody').appendChild(btn);
    });
  }

  function selectDecor(decor) {
    weddingPlan.decor = decor;
    addMessage(`${currentLanguage === 'ar' ? "Ù„Ù‚Ø¯ Ø§Ø®ØªØ±Øª:" : currentLanguage === 'en' ? "You chose:" : "Vous avez choisi:"} ${decor}`, true);
    removeOptionButtons();
    addMessage(
      currentLanguage === 'ar'
        ? "Ø§Ø®ØªØ± Ù†ÙˆØ¹ Ø§Ù„ÙƒØ¹ÙƒØ© Ù„Ù„ÙŠÙ„Ø© Ø§Ù„Ø²ÙØ§Ù:"
        : currentLanguage === 'en'
        ? "Choose the type of wedding cake:"
        : "Choisissez le type de gÃ¢teau de mariage:"
    );
    const cakes = {
      ar: ["ÙƒØ¹ÙƒØ© ØªÙ‚Ù„ÙŠØ¯ÙŠØ©", "ÙƒØ¹ÙƒØ© Ø­Ø¯ÙŠØ«Ø©", "ÙƒØ¹ÙƒØ© Ø§Ù„ÙÙˆØ§ÙƒÙ‡", "ÙƒØ¹ÙƒØ© Ø§Ù„Ø´ÙˆÙƒÙˆÙ„Ø§ØªØ©"],
      en: ["Traditional Cake", "Modern Cake", "Fruit Cake", "Chocolate Cake"],
      fr: ["GÃ¢teau traditionnel", "GÃ¢teau moderne", "GÃ¢teau aux fruits", "GÃ¢teau au chocolat"]
    };
    cakes[currentLanguage].forEach(cake => {
      const btn = document.createElement('button');
      btn.className = 'option-btn';
      btn.textContent = cake;
      btn.onclick = () => selectCake(cake);
      document.getElementById('chatBody').appendChild(btn);
    });
  }

  function selectCake(cake) {
    weddingPlan.cake = cake;
    addMessage(`${currentLanguage === 'ar' ? "Ù„Ù‚Ø¯ Ø§Ø®ØªØ±Øª:" : currentLanguage === 'en' ? "You chose:" : "Vous avez choisi:"} ${cake}`, true);
    removeOptionButtons();
    displayWeddingPlan();
  }

  function displayWeddingPlan() {
    addMessage(
      currentLanguage === 'ar'
        ? "âœ¨ Ø¥Ù„ÙŠÙƒ Ø®Ø·Ø© Ø²ÙØ§ÙÙƒ Ø§Ù„Ù…Ø«Ø§Ù„ÙŠØ©:"
        : currentLanguage === 'en'
        ? "âœ¨ Here is your ideal wedding plan:"
        : "âœ¨ Voici votre plan de mariage idÃ©al:"
    );
    addMessage(`${currentLanguage === 'ar' ? "Ø§Ù„Ù…ÙƒØ§Ù†:" : currentLanguage === 'en' ? "Venue:" : "Lieu:"} ${weddingPlan.venue}`);
    addMessage(`${currentLanguage === 'ar' ? "Ø§Ù„Ø¯ÙŠÙƒÙˆØ±:" : currentLanguage === 'en' ? "Decor:" : "DÃ©cor:"} ${weddingPlan.decor}`);
    addMessage(`${currentLanguage === 'ar' ? "Ø§Ù„ÙƒØ¹ÙƒØ©:" : currentLanguage === 'en' ? "Cake:" : "GÃ¢teau:"} ${weddingPlan.cake}`);
    addMessage(
      currentLanguage === 'ar'
        ? "ðŸŽ‰ ØªÙ‡Ø§Ù†ÙŠÙ†Ø§! Ù„Ù‚Ø¯ Ù‚Ù…Øª Ø¨ØªÙ†Ø¸ÙŠÙ… Ø­ÙÙ„ Ø²ÙØ§Ù Ø£Ø­Ù„Ø§Ù…Ùƒ!"
        : currentLanguage === 'en'
        ? "ðŸŽ‰ Congratulations! You've planned your dream wedding!"
        : "ðŸŽ‰ FÃ©licitations! Vous avez planifiÃ© le mariage de vos rÃªves!"
    );
  }

  document.addEventListener('click', (e) => {
    if(e.target.classList.contains('option-btn')) {
      e.target.style.animation = 'clickEffect 0.3s';
      setTimeout(() => e.target.style.animation = '', 300);
    }
  });
</script>

</body>
</html>
